---
title: quickstart | neba.io
layout: fullwidth
description: get started with NEBA in three simple steps
twitterAuthor: deploynix
---
<div class="section-title">
<h1 class="title">Quickstart:<span> Get started with NEBA in three steps</span></h1>
</div><!--END SECTION TITLE-->

<div class="one">
    <h2>Step 1: Download and integrate NEBA</h2>
    <p>
        <a href="download.html">install the delivery package</a> and
        integrate the NEBA API into your project.
    </p>
</div>

<div class="divider-border"></div>

<div class="one">
    <h2>Step 2: Add a standard blueprint application context to your bundle(s)</h2>
    <p><strong>It's a simple convention:</strong> Place a standard spring application context in the OSGI-INF/blueprint folder of your bundle. Feel free to use this snippet: </p>

{% highlight xml %}
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:bp="http://www.osgi.org/xmlns/blueprint/v1.0.0"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
   http://www.osgi.org/xmlns/blueprint/v1.0.0
   http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
   http://www.springframework.org/schema/context
   http://www.springframework.org/schema/context/spring-context-3.2.xsd">

    <context:component-scan base-package="bundle.package.impl" />
</beans>
{% endhighlight %}

    <div class="trigger-button"><span>Hint: Handy plugins for your IDE</span></div>
    <div class="accordion">
        <p>If you're using Eclipse, it is highly recommended to install the spring IDE
            plugin (update site: <a href="http://dist.springsource.com/release/TOOLS/update/e4.3">http://dist.springsource.com/release/TOOLS/update/e4.3</a>)
            and the <a href="http://eclipse.org/m2e/download/">M2eclipse plugin</a>. Note that using the latest Eclipse version available is
            highly recommended before installing the M2E plugin. If you're using Intellij, it is recommended to use the Ultimate Edition, as it provides
            great Spring support.</p>
    </div><!--END ACCORDION-->
</div>

<div class="divider-border"></div>

<div class="one">

<h2>Step 3: Use NEBA</h2>

<h3>Write a @ResourceModel</h3>
<p>Create a class anywhere inside the <code>bundle.package.impl</code> package namespace and annotate it with <code>@ResourceModel</code>.
    You may consult the <a href="apidocs/neba-api/io/neba/api/annotations/class-use/ResourceModel.html">@ResourceModel API docs</a> or <a href="userguide.html#api/@ResourceModel">user guide on @ResourceModels</a>
    to find out more. Feel free to use this snippet:</p>

{% highlight java %}
@ResourceModel(types = "cq:Page")
public class PageModel {
    @Children
    private List<Page> children;

    public List<Page> getChildren() {
        return this.children;
    }
}
{% endhighlight %}

<h3>Use the model in application mode</h3>
<p>
Once your bundle is deployed, you can see your model in NEBA's model registry console in the Felix web console (/system/console/modelregistry).
Now, you can adapt any cq:Page resource to this model - for instance in a Spring controller:</p>

{% highlight java %}
@Controller
public class MyController {
    @RequestMapping(value = "/page/childcount", produces = "text/plain")
    @ResponseBody
    public String getNumberOfChildren(@ResourceParam PageModel page) {
        return "number of children: " + page.getChildren().size();
    }
}
{% endhighlight %}

<p>(Once deployed, you can invoke this controller using <code>/bin/mvc.do/page/childcount?page=/content/geometrixx/en</code>)</p>


<p>
    Or in a Sling servlet:
</p>
{% highlight java %}
@SlingServlet(paths = "/bin/page/childcount")
public class MyServlet extends SlingSafeMethodsServlet {
    @Override
    public void doGet(SlingHttpServletRequest req, SlingHttpServletResponse res) {
        String page = req.getParameter("page");
        Resource pageResource = req.getResourceResolver().getResource(page);
        PageModel pageModel = pageResource.adaptTo(PageModel.class);
        res.getWriter().write("number of children: " + pageModel.getChildren().size());
    }
}
{% endhighlight %}

<h3>Use the model in views</h3>
<p><a href="http://neba.io/userguide.html#nebaDefineObjects">The neba:defineObjects tag</a> automatically provides the suitable model
    for the current resource in JSP views:
{% highlight java %}
<%@taglib prefix="neba" uri="http://neba.io/1.0"%>
<neba:defineObjects />
{% endhighlight %}

Which makes the model available under the key ${m}.
</p>
<p>
Since every resource is adaptable to its model(s), using a NEBA @ResourceModel in
<a href="http://docs.adobe.com/docs/de/aem/6-0/develop/sightly.html">Sling Sightly</a> is easy, too. Simply
provide the name of the model class - or any of it's super type(s) or interface(s) - in the "data-sly-use" attribute,
like so (the corresponding package must be exported by the containing bundle):

{% highlight java %}
<section data-sly-use.myModel="bundle.package.impl.PageModel">
    <h1>
        ${myModel.children.size}
    </h1>
</section>
{% endhighlight %}
</p>
</div>

<div class="one">
    <div class="two-third">
        <h3>More information on blueprint and Spring</h3>
        <p>Blueprint is part of the OSGi specification. NEBA relies on <a href="http://www.eclipse.org/gemini/blueprint/">gemini-blueprint, the open source reference implementation of this standard</a>.</p>
        <p>A blueprint XML declaration is simply a <a href="http://docs.spring.io/spring/docs/{{site.springDocumentationVersion}}/spring-framework-reference/html/beans.html#beans-factory-xml-import">Spring application context</a> -
            with an <a href="http://www.eclipse.org/gemini/blueprint/documentation/reference/2.0.0.M02/html/index.html">additional blueprint namespace providing support for
                OSGi service exports and imports, SCR configuration creation and consumption and much more.</a></p>
    </div><!--END TWO-THIRD-->

    <div class="one-third last">
        <h3>More information on @ResourceModels</h3>
        <p>Follow the <a href="userguide.html#api/@ResourceModel">user guide to find out more about the capabilities of @ResourceModel</a>s</p>
    </div><!--END ONE-THIRD LAST-->

</div><!--END ONE-->