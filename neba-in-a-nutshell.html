---
title: NEBA in a nutshell
layout: fullwidth
description: An illustration of the vision, strategy and key features of the NEBA project
twitterAuthor: deploynix
---

<div class="section-title">
    <h1 class="title">In a nutshell:<span> The vision and features of NEBA</span></h1>
</div><!--END SECTION TITLE-->


<div class="one-half">
    <h2>Vision</h2>

    <p>
        <strong>With NEBA, applications built with Sling shall be modular and free of system-level concerns,
        resulting in more stable, changeable and high-performing applications. At the same time,
        using NEBA shall be like using a good DSL: Simple, expressive and fun.</strong></p>
</div>

<div class="one-half last">
    <h2>Approach</h2>

    <p>NEBA integrates the Spring Framework into Sling. It makes available all of Spring's features to allow using mature, best-practice solutions
    for the majority of system-level concerns common to Sling-based applications. NEBA does so in full compliance with the open core philosophy -
    using exclusively mature, standardized open source software - gemini blueprint - for the integration into OSGi.</p>
    <p>All Spring and Sling features are accessible to developers using a lightweight, well documented API that does not couple
    the domain -specific implementation code to any implementation details of Sling, Spring or NEBA.</p>
</div>

<div class="divider-border"></div>

<div class="one">
    <h2>Principles</h2>

    <ul class="colored-counter-list">
        <li>Zero interference: Do not alter any Sling or system behavior</li>
        <li>Zero coupling: Software using NEBA must not depend on NEBA implementation code and vice-versa.</li>
        <li>Further composition: Allow transparently using NEBA from standard Sling components and vice-versa.</li>
        <li>Further best practices: Guide users towards using REST and adapter factories, leverage the Sling resource type system</li>
        <li>Semantics first: Users shall express intend using @Semantic annotations instead of implementing or providing configuration.</li>
        <li>Be optional: Users may or may not decide to use NEBA</li>
    </ul>
</div>

<div class="divider-border"></div>

<div class="one">
    <h2 id="features">Main features</h2>
    <div class="one-half">
        <h3 id="resourcemodels">Resource models</h3>
        <p>
        Business logic in Sling is usually written for a specific kind of
        <a href="http://sling.apache.org/documentation/the-sling-engine/resources.html">resource</a>. However, the connection
        between the resource and it's model is usually problematic - either, code is directly used in views, introducing undesired coupling,
        or <a href="http://sling.apache.org/documentation/the-sling-engine/adapters.html">Adapter Factories</a> are written, thus introducing
        complex system-level code in the domain specific implementations.Here, NEBA offers a simple, declarative way to write models for resources: The @ResourceModel annotation.
        </p>
        <p>
        Once annotated, Java POJO's become
        <a href="http://docs.spring.io/spring/docs/{{site.springDocumentationVersion}}/spring-framework-reference/html/beans.html#beans-introduction">Spring Beans</a> representing
        specific resource types. Whenever a suitable resource is adapted to this model - or any of it's interfaces or super classes - the properties
        of the resource are automatically injected into the module. One can thus use the entire power of Spring and all of the Features of Sling and the JCR - with just
        one annotation:
        </p>
<p>
{% highlight java %}
@ResourceModel(types = "sling/resource/type")
public class MyModel {
 @Inject
 private SomethingElse collaborator;

 private String slingProperty;
}
{% endhighlight %}
</p>
        It is possible to write any number of resource models for any number of resource or JCR primary types. For an in-depth documentation of resource model
        features, see the <a href="userguide.html#api/@ResourceModel">user guide on @ResourceModels</a>.

    </div>
    <div class="one-half last">
        <h3 id="springmvc">Spring MVC</h3>
        Sling has excellent support for writing <a href="http://sling.apache.org/documentation/the-sling-engine/servlets.html">Servlets and Scripts</a>
        for resources. However, it does not provide you with an out-of-the box solution for parameter handling, validation, data binding and so forth,
        but instead offers well documented extension points. Spring, on the other hand, offers <a href="http://docs.spring.io/spring/docs/{{site.springDocumentationVersion}}/spring-framework-reference/html/mvc.html">declarative creation of RESTful controllers</a>.
        NEBA integrates Spring MVC in a conflict-free fashion. All Spring controllers are automatically available underneath /bin/mvc.do - a Sling servlet -
        and do thus not interfere with <a href="http://sling.apache.org/documentation/the-sling-engine/url-to-script-resolution.html">Sling's generic MVC concept for resource resolution</a>.

{% highlight java %}
@Controller
public class MyController {
 @RequestMapping("/something")
 @ResponseBody
 public String handle(@RequestParam String param) {
   return "redirect:/success.html";
 }
{% endhighlight %}

        <p>
        All MVC features are supported - including first-class support for Sling specific request parameters
        such as the Resource resolver. For an in-depth documentation of the Spring MVC support, see the
        <a href="userguide.html#springmvc">user guide on Spring MVC</a> and the
        <a href="http://docs.spring.io/spring/docs/{{site.springDocumentationVersion}}/spring-framework-reference/html/mvc.html">Spring MVC documentation</a>.
        </p>
    </div>

    <div class="divider-border"></div>

    <div class="one-half" id="resourcemodeltooling">
        <h3>@ResourceModel tooling</h3>
        <p>
            To view and analyze resource models, two <a href="http://sling.apache.org/documentation/bundles/web-console-extensions.html">Sling web console extensions</a>
            are provided by NEBA.
        </p>
        <p>
            The <strong>resource model registry</strong> allows exploring the registered models and their relation to the resource
            types to which they apply, as well as the types to which they can be adapted.
        </p>
        <p><a data-rel="prettyPhoto" href="images/neba-in-a-nutshell/modelregistry-large.png"><img src="images/neba-in-a-nutshell/modelregistry.png" /></a></p>
        <p>
            The <strong>resource model statistics console</strong> allows exploring the performance of all resource models in real time.
        </p>
        <a data-rel="prettyPhoto" href="images/neba-in-a-nutshell/statistics-large.png"><img src="images/neba-in-a-nutshell/statistics.png" /></a>
    </div>
    <div class="one-half last">
        <h3>Rendering beyond resources</h3>
        <p>
        NEBA integrates <a href="http://velocity.apache.org/">Apache Velocity</a> to allow rendering beyond resources. This is useful when rendering things that are not resources -
        for instance database or web service objects - repeatedly in your project. Furthermore, velocity can be used to render
        objects outside the scope of a request.<br />
        For an in-depth documentation of the Velocity integration features and mapping support, see the <a href="userguide.html#using-velocity">user guide on velocity</a>.
        </p>

        <h3>Monitoring and downloading log files</h3>
        <p>
        To let engineering analyze issues quickly, NEBA includes a <a href="http://sling.apache.org/documentation/bundles/web-console-extensions.html">Sling web console extensions</a>
        that allows monitoring, tailing and downloading log files - including filtering and highlighting.
        Serial access to the machine running your instance is no longer required - authenticated
        access to the system does suffice.
        </p>
        <p>
            <a data-rel="prettyPhoto" href="images/neba-in-a-nutshell/logviewer-large.png"><img src="images/neba-in-a-nutshell/logviewer.png" /></a>
        </p>
    </div>
</div>

<div class="divider-border"></div>
